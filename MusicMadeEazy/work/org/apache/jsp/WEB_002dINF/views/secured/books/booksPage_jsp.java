/*
 * Generated by the Jasper component of Apache Tomcat
 * Version: Apache Tomcat/7.0.57
 * Generated at: 2015-11-17 10:09:08 UTC
 * Note: The last modified time of this file was set to
 *       the last modified time of the source file after
 *       generation to assist with modification tracking.
 */
package org.apache.jsp.WEB_002dINF.views.secured.books;

import javax.servlet.*;
import javax.servlet.http.*;
import javax.servlet.jsp.*;

public final class booksPage_jsp extends org.apache.jasper.runtime.HttpJspBase
    implements org.apache.jasper.runtime.JspSourceDependent {

  private static final javax.servlet.jsp.JspFactory _jspxFactory =
          javax.servlet.jsp.JspFactory.getDefaultFactory();

  private static java.util.Map<java.lang.String,java.lang.Long> _jspx_dependants;

  private org.apache.jasper.runtime.TagHandlerPool _005fjspx_005ftagPool_005fc_005fif_0026_005ftest;

  private javax.el.ExpressionFactory _el_expressionfactory;
  private org.apache.tomcat.InstanceManager _jsp_instancemanager;

  public java.util.Map<java.lang.String,java.lang.Long> getDependants() {
    return _jspx_dependants;
  }

  public void _jspInit() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest = org.apache.jasper.runtime.TagHandlerPool.getTagHandlerPool(getServletConfig());
    _el_expressionfactory = _jspxFactory.getJspApplicationContext(getServletConfig().getServletContext()).getExpressionFactory();
    _jsp_instancemanager = org.apache.jasper.runtime.InstanceManagerFactory.getInstanceManager(getServletConfig());
  }

  public void _jspDestroy() {
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.release();
  }

  public void _jspService(final javax.servlet.http.HttpServletRequest request, final javax.servlet.http.HttpServletResponse response)
        throws java.io.IOException, javax.servlet.ServletException {

    final javax.servlet.jsp.PageContext pageContext;
    javax.servlet.http.HttpSession session = null;
    final javax.servlet.ServletContext application;
    final javax.servlet.ServletConfig config;
    javax.servlet.jsp.JspWriter out = null;
    final java.lang.Object page = this;
    javax.servlet.jsp.JspWriter _jspx_out = null;
    javax.servlet.jsp.PageContext _jspx_page_context = null;


    try {
      response.setContentType("text/html");
      pageContext = _jspxFactory.getPageContext(this, request, response,
      			null, true, 8192, true);
      _jspx_page_context = pageContext;
      application = pageContext.getServletContext();
      config = pageContext.getServletConfig();
      session = pageContext.getSession();
      out = pageContext.getOut();
      _jspx_out = out;

      out.write("\r\n");
      out.write("<head>\r\n");
      out.write("<style>\r\n");
      out.write(".rowinfo {\r\n");
      out.write("\ttext-align: left;\r\n");
      out.write("    padding: 0;\r\n");
      out.write("    margin: 0;\r\n");
      out.write("    height:200px !important;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(".lightbutton, .darkbutton, .redbutton, .greenbutton {\r\n");
      out.write("\tbackground: #1243ab; \r\n");
      out.write("\tbackground: linear-gradient(to bottom, #1f5ad9 0%, #1f59d7 30%, #1f59d7 64%, #1243ab 100%);\r\n");
      out.write("\theight: 24px;\r\n");
      out.write("\twidth: 94px;\r\n");
      out.write("\toutline: 0;\r\n");
      out.write("\tborder: 1px solid #aaa;\r\n");
      out.write("\tcolor: #fff;\r\n");
      out.write("\tborder-radius: 3px;\r\n");
      out.write("\ttext-align:center;\r\n");
      out.write("\tline-height:24px;\r\n");
      out.write("}\r\n");
      out.write(".tabcontents .tab {\r\n");
      out.write("    display: none;\r\n");
      out.write("    background: #fff;\r\n");
      out.write("    padding: 10px;\r\n");
      out.write("    border: 1px solid gray;\r\n");
      out.write("    border-top: none;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("</style>\r\n");
      out.write("</head>\r\n");
      out.write("<script>\r\n");
      out.write("\tvar naaa,blackbook,nada,galves,kbb,mmrVehSummary,mmrVehTransactions;\r\n");
      out.write("\tvar mmrTransPos = 0;\r\n");
      out.write("\tvar mmrTransLength = 0;\r\n");
      out.write("\tvar mmrTransData = [];\r\n");
      out.write("\tvar transTableColumns = [\"Date\", \"Auction\", \"Sale Type\", \"Price\", \"Odometer\", \"Condition\", \"Color\", \"Engine\", \"Trans\", \"In Sample\"];\r\n");
      out.write("\tvar transTableColKeys = [\"date\", \"auction\", \"salesType\", \"price\", \"mileage\", \"condition\", \"color\", \"engine\", \"transmission\", \"inSample\"];\r\n");
      out.write("\tvar mmrLastTransColClicked = 0;\r\n");
      out.write("\tvar mmrColClickedState = 0;\r\n");
      out.write("\tvar salespersons;\r\n");
      out.write("jQuery(document).ready(function(){\r\n");
      out.write("\r\n");
      out.write("\tgetCustomerOfferData();\r\n");
      out.write("\tgetNAAAData();\r\n");
      out.write("\tgetBooksData();\r\n");
      out.write("\tpopulateBooksPageDropDown();\r\n");
      out.write("\t$(\"#bookspage-appraiser-pop\").jqm();\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\t$(\"#linktommr\").click(function(e) \r\n");
      out.write("\t\t    {\r\n");
      out.write("\t\t    \te.preventDefault();    \t\r\n");
      out.write("\t\t    \twindow.open('https://www.manheim.com/members/internetmmr?vin=' + '");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("','MMR');\r\n");
      out.write("\t\t    });\r\n");
      out.write("\r\n");
      out.write("\t$(\".toggle-mmrtransactions-wrap\").click(function() {\r\n");
      out.write("        $(\".mmrtransactions-wrap\").toggle();\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("\t$(\".toggle-printbookcontent-wrap\").click(function() {\r\n");
      out.write("        $(\".printbookcontent-wrap\").toggle();\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("\t$('#printMarketButton').click(function() {\r\n");
      out.write("\t\tvar printReportUrl = '';\r\n");
      out.write("\t\t$.get( \"/IMT/PrintableBookReports.go?vin=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("&appraisalId=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${appraisalId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\", function( data ) {\r\n");
      out.write("\t\t\t $( \"#printBookSheet\" ).html('<div class=\"fr\"><a href=\"#\" class=\"jqmClose\"><i class=\"fa fa-times\"></i></a></div>'+ data );\r\n");
      out.write("\t\t\t $('#printBookSheet').jqmShow({});\r\n");
      out.write("\t    });\r\n");
      out.write("\t});\r\n");
      out.write("\t\r\n");
      out.write("\t$('#printBookSheet').jqm();\r\n");
      out.write("\t$('#customerOverlay').jqm();\r\n");
      out.write("\t$('#dealTypeId').val('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dealTrackNewOrUsed}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("');\r\n");
      out.write("\t$('#retailVehicleStockNumberId').val('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dealTrackStockNumber}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("');\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("\tvar openAndLoadCustModal=function(){\r\n");
      out.write("\t\tif($(\"#customerOfferId\").val()=='')\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\talert(\"Please Enter Customer Offer Amount\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tif($(\"#firstNameId\").val()==\"\")\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\talert(\"Please Enter Customer First Name\");\r\n");
      out.write("\t\t\treturn false;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t var offer = $(\"#customerOfferId\").val().replace(',', '');\r\n");
      out.write("\t var firstname = $('#firstNameId').val(); \r\n");
      out.write("\t var lastname = $('#lastNameId').val();\r\n");
      out.write("\t var email = $('#emailId').val();\r\n");
      out.write("\t var phoneNumber = $('#phoneId').val();\r\n");
      out.write("\t \r\n");
      out.write("\t    $.get( \"AppraisalPage/CustomerOffer/Create?&offer=\"+offer+\"&firstname=\"+firstname+\"&lastname=\"+lastname+\"&email=\"+email+\"&phoneNumber=\"+phoneNumber+\"&primaryError=false&secondaryError=false\", function( data ) {\r\n");
      out.write("\t\t\t $( \"#customerOverlay\" ).html('<div class=\"fr\"><a href=\"#\" class=\"jqmClose\"><i class=\"fa fa-times\"></i></a></div>'+ data );\r\n");
      out.write("\t\t\t $('#customerOverlay').jqmShow({});\r\n");
      out.write("\t    });\r\n");
      out.write("\t    \r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\t $( \"#createCustOfferbtn\" ).unbind(\"click\").click(function() {\r\n");
      out.write("\t\t saveAppraisalAndForwardnew(null,null,0,0,openAndLoadCustModal);\r\n");
      out.write("\t \t\t\r\n");
      out.write("\t\t});\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("});\r\n");
      out.write("\r\n");
      out.write("function getBooksData(){\r\n");
      out.write("\tjQuery.getJSON( \"AppraisalData/Books\", function( data ) {\r\n");
      out.write("\t\tvar dgbs= data.displayGuideBooks;\r\n");
      out.write("\r\n");
      out.write("\t\tjQuery.each(dgbs,function(key,obj){\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar id=obj.guideBookId;\r\n");
      out.write("\r\n");
      out.write("\t\t\tjQuery(\"#\"+id+\"_values_row\").html(\"\");\r\n");
      out.write("\t\t\tjQuery(\"#\"+id+\"_booktable\").show();\r\n");
      out.write("\t\t\tvar values=obj.displayGuideBookValues;\r\n");
      out.write("\t\t\tjQuery(\"#\"+id+\"_mileage\").html(data.mileage)\r\n");
      out.write("\r\n");
      out.write("\t\t\tjQuery(\"#\"+id+\"_bookout_date\").html(obj.lastBookedOutDateFormatted);\r\n");
      out.write("\t\t\tjQuery(\"#\"+id+\"_mileage_adj\").html(\"$\"+Number(obj.mileageAdjustment).toLocaleString('en-US'))\r\n");
      out.write("\t\t\tif(obj.guideBookId==3){\r\n");
      out.write("\r\n");
      out.write("\t\t\t\twriteKbbValuationRows(id,obj);\t\t\t\t\r\n");
      out.write("\t\t\t\tjQuery(\"#kbbDivId\").show();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse if(obj.guideBookId==2){ \r\n");
      out.write("\t\t\t\t writeNada(data)\r\n");
      out.write("\t\t\t\t jQuery(\"#nadaDivId\").show();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse if(obj.guideBookId==1){\r\n");
      out.write("\t\t\t\twriteBlackBook(data)\t\r\n");
      out.write("\t\t\t\tjQuery(\"#blackbookDivId\").show();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\telse{\r\n");
      out.write("\t\t\t\twriteGalves(data);\r\n");
      out.write("\t\t\t\tjQuery(\"#galvesDivId\").show();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\tmmrVehSummary = data.mmrResponse.selectedMMRTrim\r\n");
      out.write("\t\tmmrVehTransactions = data.mmrResponse.mmrTransactions\r\n");
      out.write("\t\t\r\n");
      out.write("\t\treloadMMR();\r\n");
      out.write("\r\n");
      out.write("\t\tjQuery(\"#mmrtransactionslink\").unbind(\"click\").click(function(e) \r\n");
      out.write("\t\t\t\t  {\r\n");
      out.write("\t\t\t\t   \te.preventDefault();\r\n");
      out.write("\r\n");
      out.write("// \t\t\t\t\t\tif(jQuery(\"#mmrtransactionslink\").text().trim() == \"View MMR Transactions\")\r\n");
      out.write("// \t\t\t\t\t\t{\r\n");
      out.write("// \t\t\t\t\t\t\tjQuery(\"#mmrtransactionslink\").text(\"Hide MMR Transactions\");\r\n");
      out.write("// \t\t\t\t\t\t\tjQuery(\"#mmrtransactionspanel\").removeClass(\"displaynone\");\r\n");
      out.write("// \t\t\t\t\t\t}\r\n");
      out.write("// \t\t\t\t\t\telse\r\n");
      out.write("// \t\t\t\t\t\t{\r\n");
      out.write("// \t\t\t\t\t\t\tjQuery(\"#mmrtransactionslink\").text(\"View MMR Transactions\");\r\n");
      out.write("// \t\t\t\t\t\t\tjQuery(\"#mmrtransactionspanel\").addClass(\"displaynone\");\r\n");
      out.write("// \t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\tif (mmrTransLength > 10)\r\n");
      out.write("\t\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t\tjQuery(\"#mmrnext\").removeClass(\"mmrpagerdisabled\");\r\n");
      out.write("\t\t\t\t\t\t\tjQuery(\"#mmrnext\").addClass(\"mmrpagerActive\");\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t$(\".mmrtransactions-wrap\").toggle();\r\n");
      out.write("\t\t\t\t\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("})\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function writeKbbValuationRows(id,obj){\r\n");
      out.write("\tkbb=obj;\r\n");
      out.write("\tvar conditionStr = kbb.condition.substr(0,1).toUpperCase() + kbb.condition.substr(1).toLowerCase();\r\n");
      out.write("\r\n");
      out.write("\tjQuery(\"#\"+id+\"_option_adj\").html(adjustBookPriceForNegative(obj.optionsAdjustment));\r\n");
      out.write("\tvar tradein=jQuery(obj.displayGuideBookValues).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription==\"Trade-In\"))\t\t\t\r\n");
      out.write("\t})[0];\r\n");
      out.write("\r\n");
      out.write("\tvar tradeinLow=jQuery(obj.displayGuideBookValues).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription==\"Trade-In + RangeLow\"))\t\t\t\r\n");
      out.write("\t})[0];\r\n");
      out.write("\tvar tradeinHigh=jQuery(obj.displayGuideBookValues).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription==\"Trade-In + RangeHigh\"))\t\t\t\r\n");
      out.write("\t})[0];\r\n");
      out.write("\t\r\n");
      out.write("\tjQuery(\"#3_values_row_2\").append('<td class=\"bluetd\">'+\r\n");
      out.write("\t\t\tconditionStr+' Trade-In</td>');\r\n");
      out.write("\tjQuery(\"#3_values_row_2_val\").append('<td id=\"kbbTradeIn\"> $'+Number(tradein.value).toLocaleString('en-US')+'</td>');\r\n");
      out.write("\tjQuery(\"#3_values_row_2\").append('<td class=\"bluetd\">'+conditionStr+' Trade-In Range </td>');\r\n");
      out.write("\tjQuery(\"#3_values_row_2_val\").append('<td id=\"kbbTradeInRange\"> $'+Number(tradeinLow.value).toLocaleString('en-US')+' - $'+Number(tradeinHigh.value).toLocaleString('en-US')+\r\n");
      out.write("\t\t'</td>');\r\n");
      out.write("\t\r\n");
      out.write("\tvar dgbvalue;\r\n");
      out.write("\tdgbvalue=jQuery(obj.displayGuideBookValuesNoMileage).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription.indexOf(\"Retail\") > -1))\t\t\t\r\n");
      out.write("\t})[0]\r\n");
      out.write("\twriteKBBValuation(id,dgbvalue);\r\n");
      out.write("\tdgbvalue=jQuery(obj.displayGuideBookValues).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription.indexOf(\"Retail\") > -1))\t\t\t\r\n");
      out.write("\t})[0]\r\n");
      out.write("\tdgbvalue.thirdPartyCategoryDescription+=\" w/ Adj.\"\r\n");
      out.write("\twriteKBBValuation(id,dgbvalue);\r\n");
      out.write("\r\n");
      out.write("\tdgbvalue=jQuery(obj.displayGuideBookValuesNoMileage).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription.indexOf(\"Lending Value\") > -1))\t\t\t\r\n");
      out.write("\t})[0]\r\n");
      out.write("\twriteKBBValuation(id,dgbvalue);\r\n");
      out.write("\r\n");
      out.write("\tdgbvalue=jQuery(obj.displayGuideBookValues).filter(function(index,element) {\r\n");
      out.write("\t\treturn \t((element.thirdPartyCategoryDescription.indexOf(\"Lending Value\") > -1))\t\t\t\r\n");
      out.write("\t})[0]\r\n");
      out.write("\tdgbvalue.thirdPartyCategoryDescription+=\" w/ Adj.\"\r\n");
      out.write("\twriteKBBValuation(id,dgbvalue);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function writeKBBValuation(id,dgbvalue){\r\n");
      out.write("\tvar finalValue=dgbvalue.value;\r\n");
      out.write("\tvar condition=dgbvalue.thirdPartyCategoryDescription;\r\n");
      out.write("\t var finalValueStr=Number(finalValue).toLocaleString('en-US');\r\n");
      out.write("\t jQuery(\"#\"+id+\"_values_row\").append('<td class=\"bluetd\">'\r\n");
      out.write("\t\t\t\t+ condition\r\n");
      out.write("\t\t\t\t+ '</td]>');\r\n");
      out.write("\t jQuery(\"#\"+id+\"_values_row_val\").append('<td>'+ '$'\r\n");
      out.write("\t\t\t\t+ finalValueStr\r\n");
      out.write("\t\t\t\t+ '</td>');\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function kbbMarketChange(obj){\r\n");
      out.write("\tif(obj.value==\"Wholesale\"){\r\n");
      out.write("\t\tjQuery(\"#3_values_row\").show();\r\n");
      out.write("\t\tjQuery(\"#3_values_row_val\").show();\r\n");
      out.write("\t\tjQuery(\"#3_values_row_2\").hide();\r\n");
      out.write("\t\tjQuery(\"#3_values_row_2_val\").hide();\r\n");
      out.write("\t}\r\n");
      out.write("\telse{\r\n");
      out.write("\t\tjQuery(\"#3_values_row_2\").show();\r\n");
      out.write("\t\tjQuery(\"#3_values_row_2_val\").show();\r\n");
      out.write("\t\tjQuery(\"#3_values_row\").hide();\r\n");
      out.write("\t\tjQuery(\"#3_values_row_val\").hide();\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function populateBlackBookValuationRows(guidebookvalues, valuationmap, market, placeholderrow) {\r\n");
      out.write("\t\r\n");
      out.write("\tjQuery(placeholderrow).html('');\r\n");
      out.write("\tjQuery(\"#bbHeaderRow\").html('');\r\n");
      out.write("\tvar map = _(valuationmap)\r\n");
      out.write("\t\t.chain()\r\n");
      out.write("\t\t.filter(function(item) { return item.market == market; } )\r\n");
      out.write("\t\t.value();\r\n");
      out.write("\t\t\r\n");
      out.write("\tvar colWidth = 100/map.length;\r\n");
      out.write("\t\r\n");
      out.write("\t_.each(map, function(element){\r\n");
      out.write("\t\t\tvar valuations = _(guidebookvalues)\r\n");
      out.write("\t\t\t\t.chain()\r\n");
      out.write("\t\t\t\t.filter(function(item) { return item.thirdPartyCategoryDescription == element.condition; } )\r\n");
      out.write("\t\t\t\t.pluck('value')\r\n");
      out.write("\t\t\t\t.value();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar value = \"-\";\r\n");
      out.write("\t\t\tif(\t!_.isEmpty(valuations) && \r\n");
      out.write("\t\t\t\t!_.all(valuations, function(v) { return _.isUndefined(v); })\r\n");
      out.write("\t\t\t) \r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tvalue = _.reduce(valuations, function(memo, num){ return memo + num; } )\r\n");
      out.write("\t\t\t\tvalue = '$' + formatCurrency(value);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(value == '$'){\r\n");
      out.write("\t\t\t\tvalue = \"-\";\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tjQuery(\"#bbHeaderRow\").append('<td class=\"blacktd\">'+element.display+'</td>');\t\r\n");
      out.write("\t\t\tjQuery(placeholderrow).append('<td>'+ value + '</td>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t);\r\n");
      out.write("};\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function writeBlackBook(jsonRequestObject) \r\n");
      out.write("{\r\n");
      out.write("\t blackbook = _.detect(jsonRequestObject.displayGuideBooks, function(book){ return book.guideBookName == \"BlackBook\"; });\r\n");
      out.write("\tif(!_.isUndefined(blackbook)) {\r\n");
      out.write("\t\tvar valuationMap = [ \r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"Extra Clean\", \tmarket: \"Wholesale\", \t\tdisplay: \"Extra Clean\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"Clean\", \t\t\tmarket: \"Wholesale\", \t\tdisplay: \"Clean\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"Average\", \t\tmarket: \"Wholesale\", \t\tdisplay: \"Average\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"Rough\", \t\t\tmarket: \"Wholesale\", \t\tdisplay: \"Rough\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"\", \t\t\t\tmarket: \"Finance Advance\", \tdisplay: \"Extra Clean\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"\", \t\t\t\tmarket: \"Finance Advance\", \tdisplay: \"Clean\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"Finance Advance\", market: \"Finance Advance\", \tdisplay: \"Average\" },\r\n");
      out.write("\t\t\t\t\t\t\t{ condition: \"\", \t\t\t\tmarket: \"Finance Advance\", \tdisplay: \"Rough\" }\r\n");
      out.write("\t\t\t\t\t\t];\r\n");
      out.write("\r\n");
      out.write("\t\tif(!blackbook.success) {\t// display error\r\n");
      out.write("\t\t\tvar msg = 'Encountered an Error with ' + blackbook.guideBookName + ' while trying to process your request: ' + blackbook.successMessage + '<br/>If the problem persists, please contact the First Look Help Desk at 1-877-378-5665.';\r\n");
      out.write("\t\t\tjQuery(\"#bbrow\").append('<td>' + msg + '</td>');\r\n");
      out.write("\t\t} else {\t\r\n");
      out.write("\t\t\t// populate the valuations\r\n");
      out.write("\t\t\tpopulateBlackBookValuationRows(blackbook.displayGuideBookValues, valuationMap, \"Wholesale\", \"#bbrow\");\r\n");
      out.write("\r\n");
      out.write("\t\t\t// market dropdown change event\r\n");
      out.write("\t\t\tjQuery('#blackbookmarket').unbind(\"change\").change(function() {\r\n");
      out.write("\t\t\t   populateBlackBookValuationRows(blackbook.displayGuideBookValues, valuationMap, jQuery(this).val(), \"#bbrow\");\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\tjQuery('#blackbook_bookout_date').text((blackbook.lastBookedOutDateFormatted));\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar mileage_adj = blackbook.mileageAdjustment;\r\n");
      out.write("\t\tif(mileage_adj == undefined || _.isNaN(mileage_adj) || mileage_adj == 0) {\r\n");
      out.write("\t\t\tmileage_adj = \"$0\";\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\telse\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tmileage_adj = adjustBookPriceForNegative(blackbook.mileageAdjustment);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\tjQuery('#blackbook_mileage_adj').text(mileage_adj);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t var options_adj = \"$0\";\r\n");
      out.write("\t\t// NOTE: see DisplayGuideBook.java:585 for java logic for this\r\n");
      out.write("\t\tvar selected_option_values = _(blackbook.displayGuideBookOptions)\r\n");
      out.write("\t\t\t.chain()\r\n");
      out.write("\t\t\t.filter(function(option) { return option.status == true; })\r\n");
      out.write("\t\t\t.map(function(option) { return option.optionValues; })\r\n");
      out.write("\t\t\t.flatten(true)\r\n");
      out.write("\t\t\t.pluck('value')\r\n");
      out.write("\t\t\t.value();\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(!_.isEmpty(selected_option_values)){\r\n");
      out.write("\t\t\toptions_adj = adjustBookPriceForNegative(_.reduce(selected_option_values, function(memo, value) { return memo + value; }));\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t$('#blackbook_option_adj').text(options_adj); \r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\tjQuery('#blackbook_mileage').text(jsonRequestObject.mileage);\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("function populateNadaValuationRows(guidebookvalues, valuationmap, option, placeholderrow) {\r\n");
      out.write("\t$(placeholderrow).empty();\r\n");
      out.write("\t$(\"#nadaHeaderRow\").empty();\r\n");
      out.write("\tvar map = _(valuationmap)\r\n");
      out.write("\t\t.chain()\r\n");
      out.write("\t\t.filter(function(item) { return item.option == option; } )\r\n");
      out.write("\t\t.value();\r\n");
      out.write("\t\t\r\n");
      out.write("\tvar colWidth = 100/map.length;\r\n");
      out.write("\t\r\n");
      out.write("\t_.each(map, function(element){\r\n");
      out.write("\t\t\tvar valuations = _(guidebookvalues)\r\n");
      out.write("\t\t\t\t.chain()\r\n");
      out.write("\t\t\t\t.filter(function(item) { return item.thirdPartyCategoryDescription == element.condition + ' ' + element.market; } )\r\n");
      out.write("\t\t\t\t.pluck('value')\r\n");
      out.write("\t\t\t\t.value();\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tvar value = \"-\";\r\n");
      out.write("\t\t\tif(\t!_.isEmpty(valuations) && \r\n");
      out.write("\t\t\t\t!_.all(valuations, function(v) { return _.isUndefined(v); })\r\n");
      out.write("\t\t\t) \r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tvalue = _.reduce(valuations, function(memo, num){ return memo + num; } )\r\n");
      out.write("\t\t\t\tvalue = '$' + formatCurrency(value);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\tif(value == '$'){\r\n");
      out.write("\t\t\t\tvalue = \"-\";\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t$(\"#nadaHeaderRow\").append('<td class=\"orangetd\">'+element.display+'</td>');\r\n");
      out.write("\t\t\t$(placeholderrow).append('<td>' + value + '</td>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function displayNadaError(msg)\r\n");
      out.write("{\r\n");
      out.write("\t$(\"#nadarow\").append('<td style=\"font-size:9px; height: 32px;\">' + msg + '</td>');\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function writeNada(jsonRequestObject) \r\n");
      out.write("{\r\n");
      out.write("\t nada = _.detect(jsonRequestObject.displayGuideBooks, function(book){ return book.guideBookName == \"NADA\"; });\r\n");
      out.write("\t\t\r\n");
      out.write("\tif(!_.isUndefined(nada)) {\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar valuationMap = [\r\n");
      out.write("\t\t\t\t\t{ condition: \"Clean\", \tmarket: \"Trade-In\", option: \"Wholesale\", display: \"Clean\" },\r\n");
      out.write("\t\t\t\t\t{ condition: \"Average\", market: \"Trade-In\", option: \"Wholesale\", display: \"Average\" },\r\n");
      out.write("\t\t\t\t\t{ condition: \"Rough\", \tmarket: \"Trade-In\", option: \"Wholesale\", display: \"Rough\" },\r\n");
      out.write("\t\t\t\t\t{ condition: \"Clean\", \tmarket: \"Loan\", \toption: \"Wholesale\", display: \"Loan\" },\r\n");
      out.write("\t\t\t\t\t{ condition: \"Clean\", \tmarket: \"Retail\", \toption: \"Retail\", \t display: \"Retail\" }\r\n");
      out.write("\t\t\t\t];\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t if ((nada.guideBookOptionAdjustment == undefined) || (nada.guideBookOptionAdjustment.optionAdjustments == undefined))\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tdisplayNadaError('Encountered an Error with ' + nada.guideBookName + ' while trying to process your request: (adjustments not found)<br/>If the problem persists, please contact the First Look Help Desk at 1-877-378-5665.');\r\n");
      out.write("\t\t\treturn;\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\toptionAdjustments = nada.guideBookOptionAdjustment.optionAdjustments\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tgrabOptAdjustVal = function(thirdPartyCategoryId){\r\n");
      out.write("\t\t\tvar i = optionAdjustments.length,\r\n");
      out.write("\t\t\tel;\r\n");
      out.write("\t\t\twhile(i--){\r\n");
      out.write("\t\t\t\tel = optionAdjustments[i];\r\n");
      out.write("\t\t\t\tif(el.thirdPartyCategoryId === thirdPartyCategoryId){\r\n");
      out.write("\t\t\t\t    break;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t if(el!= undefined || optionAdjustments!= 0)\r\n");
      out.write("\t\t\t\t{\r\n");
      out.write("\t\t\t\t\treturn el.value;\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\treturn 0;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t//ideally, this is the only thing you need to change/add to if new optionsAdjustments values need to get put in for a market choice\r\n");
      out.write("\t\tselectToOptAdjustValMap = {\r\n");
      out.write("\t\t\tRetail:grabOptAdjustVal(1), //\"Clean Retail\"\r\n");
      out.write("\t\t\tWholesale:grabOptAdjustVal(15) //\"Average Trade-In\"\r\n");
      out.write("\t\t};\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(!nada.success) {\t// display error\r\n");
      out.write("\t\t\tdisplayNadaError('Encountered an Error with ' + nada.guideBookName + ' while trying to process your request: ' + nada.successMessage + '<br/>If the problem persists, please contact the First Look Help Desk at 1-877-378-5665.');\r\n");
      out.write("\t\t} else {\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$('#nada_option_adj').html('<strong>'+adjustBookPriceForNegative(selectToOptAdjustValMap['Wholesale'])+'</strong>' ); \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t// populate the valuations\r\n");
      out.write("\t\t\tpopulateNadaValuationRows(nada.displayGuideBookValues, valuationMap, \"Wholesale\", \"#nadarow\");\r\n");
      out.write("\r\n");
      out.write("\t\t\t// market dropdown change event\r\n");
      out.write("\t\t\t$('#nadamarket').unbind(\"change\").change(function(e) {\r\n");
      out.write("\t\t\t   var selectValue = jQuery(this).val();//e.target.value;\r\n");
      out.write("\t\t\t   if(selectToOptAdjustValMap[selectValue] == undefined || _.isNaN(selectToOptAdjustValMap[selectValue]) || selectToOptAdjustValMap[selectValue] == 0){\r\n");
      out.write("\t\t\t\t   optAdjustVal = \"$0\";\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t    \toptAdjustVal = adjustBookPriceForNegative( selectToOptAdjustValMap[selectValue] );\r\n");
      out.write("\t\t\t\t} \r\n");
      out.write("\t\t\t   \r\n");
      out.write("\t\t\t    $('#nada_option_adj').html('<strong>'+optAdjustVal+'</strong>'); \r\n");
      out.write("\t\t\t   populateNadaValuationRows(nada.displayGuideBookValues, valuationMap, selectValue, \"#nadarow\");\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t$('#nada_bookout_date').text((nada.lastBookedOutDateFormatted));\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tvar mileage_adj = nada.mileageAdjustment;\r\n");
      out.write("\t\tif(mileage_adj == undefined || _.isNaN(mileage_adj) || mileage_adj == 0) {\r\n");
      out.write("\t\t\tmileage_adj = \"$0\";\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\telse\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tmileage_adj = adjustBookPriceForNegative(nada.mileageAdjustment);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t$('#nada_mileage_adj').html('<strong>'+mileage_adj+'</strong>');\r\n");
      out.write("\t\t\r\n");
      out.write("\t\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t$('#nada_mileage').html('<strong>'+jsonRequestObject.mileage+'</strong>');\r\n");
      out.write("\t\r\n");
      out.write("};\r\n");
      out.write("function showBooksPageAppraiserModal(){\r\n");
      out.write("\t$('#bookspage-appraiser-pop').jqmShow({});\r\n");
      out.write("\tpopulateBooksPageAppraisers();\r\n");
      out.write("\tclearBooksPageAppraisersForm();\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("function clearBooksPageAppraisersForm(){\r\n");
      out.write("\tdocument.getElementById(\"addOrSavePersonFormBooksPage\").reset();\r\n");
      out.write("}\r\n");
      out.write("function populateBooksPageAppraisers(){\r\n");
      out.write("\t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:\"/fl-ims/secured/AppraisalData/People/getPersonByDealerAndPosition?dealerId=\"+$(\"#dealerId\").val()+\"&personPosition=1\",\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tsalespersons=data;\r\n");
      out.write("\t\t\t\tpopulateBooksPageAppraisersFromData();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function populateBooksPageDropDown(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:\"/fl-ims/secured/AppraisalData/People/getPersonByDealerAndPosition?dealerId=\"+$(\"#dealerId\").val()+\"&personPosition=1\",\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tsalespersons=data;\r\n");
      out.write("\t\t\t\tvar html='';\r\n");
      out.write("\t\t\t\tjQuery.each(salespersons,function(index,data){\r\n");
      out.write("\t\t\t\t\thtml+='<option value=\"'+data.personId+'\">'+data.fullName+'</option>'\r\n");
      out.write("\t\t\t\t});\r\n");
      out.write("\t\t\t\tjQuery(\"#salespersonDNId\").html(html);\r\n");
      out.write("\t\t\t\tjQuery(\"#salespersonDNId\").val('");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dealTrackSalespersonID}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("');\r\n");
      out.write("\t\t\t\tinitPotDeal();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("}\r\n");
      out.write("function populateBooksPageAppraisersFromData(){\r\n");
      out.write("\tvar curentSelected=1;\r\n");
      out.write("\t\r\n");
      out.write("\tjQuery(\"#bookspagepersonsTableBody\").html(\"\")\r\n");
      out.write("\tjQuery.each(salespersons,function(index,data){\r\n");
      out.write("\t\thtml='<tr>';\r\n");
      out.write("\t\thtml+='<td>'+data.firstName+'</td>';\r\n");
      out.write("\t\thtml+='<td>'+data.lastName+'</td>';\r\n");
      out.write("\t\thtml+='<td>'+data.email+'</td>';\r\n");
      out.write("\t\thtml+='<td>'+data.phoneNumber+'</td>';\r\n");
      out.write("\t\thtml+='<td><button type=\"button\" onClick=\"bookspageeditPerson('+data.personId+')\" >Update</button> </td>';\r\n");
      out.write("\t\thtml+='<td><button type=\"button\" onClick=\"bookspagedeletePerson('+data.personId+')\">Delete</button></td>';\r\n");
      out.write("\t\thtml+='</tr>';\r\n");
      out.write("\t\tjQuery(\"#bookspagepersonsTableBody\").html(jQuery(\"#bookspagepersonsTableBody\").html()+html);\r\n");
      out.write("\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t})\r\n");
      out.write("\t\t\r\n");
      out.write("\t\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function booksPagesaveOrUpdatePerson(){\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:\"/fl-ims/secured/AppraisalData/People/savePerson\",\r\n");
      out.write("\t\ttype:\"POST\",\r\n");
      out.write("\t\tdata:$(\"#addOrSavePersonFormBooksPage\").serializeArray(),\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\t\tclearBooksPageAppraisersForm();\r\n");
      out.write("\t\t\t\tpopulateBooksPageAppraisers();\r\n");
      out.write("\t\t\t\tpopulateBooksPageAppraisersFromData();\r\n");
      out.write("\t\t\t\tpopulateBooksPageDropDown();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t})\r\n");
      out.write("\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("function bookspagedeletePerson(personId){\r\n");
      out.write("\tif(!confirm(\"Delete Person ?\")){\r\n");
      out.write("\t  \t  \treturn false;\r\n");
      out.write("\t} \t\r\n");
      out.write("\t$.ajax({\r\n");
      out.write("\t\turl:\"/fl-ims/secured/AppraisalData/People/deletePerson?personId=\"+personId+\"&personPosition=1\",\r\n");
      out.write("\t\tsuccess: function(data){\r\n");
      out.write("\t\t\tpopulateBooksPageAppraisers();\r\n");
      out.write("\t\t\tpopulateBooksPageAppraisersFromData();\r\n");
      out.write("\t\t\tpopulateBooksPageDropDown();\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t})\r\n");
      out.write("}\r\n");
      out.write("function bookspageeditPerson(personId){\r\n");
      out.write("\tvar person=undefined;\r\n");
      out.write("\tjQuery.each(salespersons,function(index,data){\r\n");
      out.write("\r\n");
      out.write("\t\tif(data.personId==personId){\r\n");
      out.write("\t\t\tperson=data;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t});\r\n");
      out.write("\r\n");
      out.write("\tif(person!=undefined){\r\n");
      out.write("\t\t$(\"#booksPageemail\").val(person.email)\r\n");
      out.write("\t\t$(\"#booksPageFirstName\").val(person.firstName);\r\n");
      out.write("\t\t$(\"#booksPageLastName\").val(person.lastName);\r\n");
      out.write("\t\t$(\"#booksPagephone\").val(person.phoneNumber)\r\n");
      out.write("\t\t$(\"#booksPagePersonIdHidden\").val(person.personId)\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function writeGalves(jsonRequestObject) \r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tgalves = _.detect(jsonRequestObject.displayGuideBooks, function(book){ return book.guideBookName == \"GALVES\"; });\r\n");
      out.write("\t\t    \r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\tif(!_.isUndefined(galves)) {\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t\tif(!galves.success) {\t// display error\r\n");
      out.write("\t\t\t\t    var msg = 'Encountered an Error with ' + galves.guideBookName + ' while trying to process your request: ' + galves.successMessage + '<br/>If the problem persists, please contact the First Look Help Desk at 1-877-378-5665.';\r\n");
      out.write("\t\t\t\t\t$(\"#galvesrow\").append('<td style=\"font-size:9px; height: 32px;\">' + msg + '</td>');\r\n");
      out.write("\t\t\t\t} else {\r\n");
      out.write("\t\t\t\t\t// populate the valuations\r\n");
      out.write("\t\t\t\t\tvar condition_map = [ \r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t{ condition: \"Market Ready\", display: \"Market Ready\" },\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t{ condition: \"Trade-In\", display: \"Trade-In\" }\r\n");
      out.write("\t\t\t\t\t\t\t\t\t];\r\n");
      out.write("\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t_.each(\r\n");
      out.write("\t\t\t\t\t\tcondition_map,\r\n");
      out.write("\t\t\t\t\t\tfunction(element){\r\n");
      out.write("\t\t\t\t\t\t\tvar valuations = _(galves.displayGuideBookValues)\r\n");
      out.write("\t\t\t\t\t\t\t\t.chain()\r\n");
      out.write("\t\t\t\t\t\t\t\t.filter(function(item) { return item.thirdPartyCategoryDescription == element.condition; } )\r\n");
      out.write("\t\t\t\t\t\t\t\t.pluck('value')\r\n");
      out.write("\t\t\t\t\t\t\t\t.value();\r\n");
      out.write("\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\tvar value = \"N/A\";\r\n");
      out.write("\t\t\t\t\t\t\tif(\t!_.isEmpty(valuations) && \r\n");
      out.write("\t\t\t\t\t\t\t\t!_.all(valuations, function(v) { return _.isUndefined(v); })\r\n");
      out.write("\t\t\t\t\t\t\t) \r\n");
      out.write("\t\t\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\t\t\ttemp_value = _.reduce(valuations, function(memo, num){ return memo + num; } )\r\n");
      out.write("\t\t\t\t\t\t\t\t\r\n");
      out.write("\t\t\t\t\t\t\t\tif(!_.isUndefined(temp_value) && temp_value > 0) {\r\n");
      out.write("\t\t\t\t\t\t\t\t\tvalue = '$' + formatCurrency(temp_value);\r\n");
      out.write("\t\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\tif(value == '$'){\r\n");
      out.write("\t\t\t\t\t\t\t\tvalue = \"-\";\r\n");
      out.write("\t\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t\t\t$('#galvesrowheaderid').append('<td class=\"darkbluetd\">' + element.display + '</td>');\r\n");
      out.write("\t\t\t\t\t\t\t$('#galvesrow').append('<td>'+ value + '</td>');\r\n");
      out.write("\t\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t\t);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t$('#galves_bookout_date').text((galves.lastBookedOutDateFormatted));\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tvar mileage_adj = galves.mileageAdjustment;\r\n");
      out.write("\t\t\t\tif(mileage_adj == undefined || _.isNaN(mileage_adj) || mileage_adj == 0) {\r\n");
      out.write("\t\t\t\t\tmileage_adj = \"$0\";\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\telse\r\n");
      out.write("\t\t\t\t{\r\n");
      out.write("\t\t\t\t\tmileage_adj = adjustBookPriceForNegative(galves.mileageAdjustment);\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t$('#galves_mileage_adj').text(mileage_adj);\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tvar options_adj = \"$0\";\r\n");
      out.write("\t\t\t\tvar selected_option_values = _(galves.selectedOptions)\r\n");
      out.write("\t\t\t\t\t.chain()\r\n");
      out.write("\t\t\t\t\t//.filter(function(option) { return option.status == true; })\r\n");
      out.write("\t\t\t\t\t.map(function(option) { return option.optionValues; })\r\n");
      out.write("\t\t\t\t\t.flatten(true)\r\n");
      out.write("\t\t\t\t\t.pluck('value')\r\n");
      out.write("\t\t\t\t\t.value();\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t\t\tif(!_.isEmpty(selected_option_values)){\r\n");
      out.write("\t\t\t\t\toptions_adj = adjustBookPriceForNegative(_.reduce(selected_option_values, function(memo, value) { return memo + value; }));\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t\tconsole.log(\"Galves\"+options_adj)\r\n");
      out.write("\t\t\t\t$('#galves_option_adj').text(options_adj);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t\t\r\n");
      out.write("\t\t\t$('#galves_mileage').text(jsonRequestObject.mileage);\r\n");
      out.write("\t\t\t\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function adjustBookPriceForNegative(price)\r\n");
      out.write("{\r\n");
      out.write("\tif (price < 0)\r\n");
      out.write("\t{\r\n");
      out.write("\t\treturn \"-$\" + Math.abs(price);\r\n");
      out.write("\t}\r\n");
      out.write("\t\r\n");
      out.write("\treturn \"$\" + price;\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function addCommasToNumber(num)\r\n");
      out.write("{\r\n");
      out.write("\tif (isNaN(num))\r\n");
      out.write("\t{\r\n");
      out.write("\t\treturn num;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\treturn num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\r\n");
      out.write("}\r\n");
      out.write("function formatCurrency(num){\r\n");
      out.write("\tvar num=String(num), fnum=new Array();\r\n");
      out.write("\tif(num!=null && num.match(/\\d/g)!=null){\r\n");
      out.write("\t\tnum = num.match(/\\d/g).reverse();\r\n");
      out.write("\ti=1;\r\n");
      out.write("\t$.each(num,function(k,v){\r\n");
      out.write("\t\tfnum.push(v);\r\n");
      out.write("\t\tif(i%3==0){\r\n");
      out.write("\t\t\tif(k<(num.length-1)){\r\n");
      out.write("\t\t\t\tfnum.push(\",\");\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\ti++;\r\n");
      out.write("\t});\r\n");
      out.write("\t\tfnum=fnum.reverse().join(\"\");\r\n");
      out.write("\t}\r\n");
      out.write("\treturn(fnum);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function reformatMMRDate(date)\r\n");
      out.write("{\r\n");
      out.write("\tif (date.length < 10)\r\n");
      out.write("\t{\r\n");
      out.write("\t\treturn date;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\treturn date.substring(5, 7) + \"/\" + date.substring(8, 10) + \"/\" + date.substring(2, 4);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function sortMMRTransactions()\r\n");
      out.write("{\r\n");
      out.write("\tif (mmrColClickedState == 0)\r\n");
      out.write("\t{\r\n");
      out.write("\t\tmmrTransData = [];\r\n");
      out.write("\t\tfor (var i = 0; i < mmrVehTransactions.transactions.length; i++)\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tmmrTransData.push(mmrVehTransactions.transactions[i]);\r\n");
      out.write("\t\t}\r\n");
      out.write("\t}\r\n");
      out.write("\telse\r\n");
      out.write("\t{\r\n");
      out.write("\t\tvar sortedData = [];\r\n");
      out.write("\r\n");
      out.write("\t\tvar colKey = transTableColKeys[mmrLastTransColClicked];\r\n");
      out.write("\t\r\n");
      out.write("\t\tif (mmrColClickedState == 1)\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tfor (var i = 0; i < mmrVehTransactions.transactions.length; i++)\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tvar transItem = mmrVehTransactions.transactions[i];\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tfor (var j = 0; j < sortedData.length; j++)\r\n");
      out.write("\t\t\t\t{\r\n");
      out.write("\t\t\t\t\tif (sortedData[j][colKey] > transItem[colKey])\r\n");
      out.write("\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tsortedData.splice(j, 0, transItem);\r\n");
      out.write("\t\t\t}\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\telse\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tfor (var i = mmrVehTransactions.transactions.length - 1; i >= 0; i--)\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tvar transItem = mmrVehTransactions.transactions[i];\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tfor (var j = 0; j < sortedData.length; j++)\r\n");
      out.write("\t\t\t\t{\r\n");
      out.write("\t\t\t\t\tif (sortedData[j][colKey] < transItem[colKey])\r\n");
      out.write("\t\t\t\t\t{\r\n");
      out.write("\t\t\t\t\t\tbreak;\r\n");
      out.write("\t\t\t\t\t}\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\t\t\tsortedData.splice(j, 0, transItem);\r\n");
      out.write("\t\t\t}\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tmmrTransData = sortedData;\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\tmmrTransPos = 0;\r\n");
      out.write("\r\n");
      out.write("\tif (mmrTransLength > 10)\r\n");
      out.write("\t{\r\n");
      out.write("\t\t$(\"#mmrnext\").removeClass(\"mmrpagerdisabled\");\r\n");
      out.write("\t\t$(\"#mmrnext\").addClass(\"mmrpagerActive\");\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\twriteMMRTable();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function mmrDate(date)\r\n");
      out.write("{\r\n");
      out.write("\tif (date.length < 9)\r\n");
      out.write("\t{\r\n");
      out.write("\t\treturn \"\";\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\treturn date.substring(4,6) + \"/\" + date.substring(6,8) + \"/\" + date.substring(0, 4);\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function writeMMRTable()\r\n");
      out.write("{\r\n");
      out.write("\ttransHtml = \"<div class='mmrtransactions-head'><span id='mmrTransCol0'>\" + transTableColumns[0] + \"</span><span id='mmrTransCol1'>\" + transTableColumns[1] + \"</span><span id='mmrTransCol2'>\" + transTableColumns[2] + \r\n");
      out.write("\t\t\"</span><span id='mmrTransCol3'>\" + transTableColumns[3] + \"</span><span id='mmrTransCol4'>\" + transTableColumns[4] + \"</span><span id='mmrTransCol5'>\" + transTableColumns[5] + \r\n");
      out.write("\t\t\"</span><span id='mmrTransCol6'>\" + transTableColumns[6] + \"</span><span id='mmrTransCol7'>\" + transTableColumns[7] + \"</span><span id='mmrTransCol8'>\" + transTableColumns[8] + \r\n");
      out.write("\t\t\"</span><span id='mmrTransCol9'>\" + transTableColumns[9] + \"</span></div><br/>\";\r\n");
      out.write("\r\n");
      out.write("\tvar mmrEndPos = mmrTransPos + 10;\r\n");
      out.write("\r\n");
      out.write("\tif (mmrEndPos > mmrTransLength)\r\n");
      out.write("\t{\r\n");
      out.write("\t\tmmrEndPos = mmrTransLength;\r\n");
      out.write("\t}\r\n");
      out.write("\ttransHtml+='<div class=\"mmrtransactions-row\">';\r\n");
      out.write("\tfor (var i = 0; i < mmrTransData.length; i++)\r\n");
      out.write("\t{\r\n");
      out.write("\t\tvar trans = mmrTransData[i];\r\n");
      out.write("\t\ttransHtml += \"<span>\" + reformatMMRDate(trans.date) + \"</span><span>\" + trans.auction + \"</span><span>\" + trans.salesType + \"</span><span>$\" + \r\n");
      out.write("\t\t\taddCommasToNumber(trans.price) + \"</span><span>\" + addCommasToNumber(trans.mileage) + \"</span><span>\" + trans.condition + \"</span><span>\" +\r\n");
      out.write("\t\t\ttrans.color + \"</span><span>\" + trans.engine + \"</span><span>\" + trans.transmission + \"</span><span>\" + trans.inSample + \"</span><br/>\";\r\n");
      out.write("\t}\r\n");
      out.write("\ttransHtml+='</div>';\r\n");
      out.write("\t$(\"#mmrnumtrans\").html(mmrTransPos + 1 + \" - \" + mmrEndPos + \" of \" + mmrTransLength);\r\n");
      out.write("\t$(\"#mmrtranstable\").html(transHtml);\r\n");
      out.write("\r\n");
      out.write("    //$(\"#mmrtranstable tr th\").addClass(\"cursorpointer\");\r\n");
      out.write("\r\n");
      out.write("    if (mmrColClickedState == 1)\r\n");
      out.write("    {\r\n");
      out.write("    \t$(\"#mmrTransCol\" + mmrLastTransColClicked).addClass(\"headerSortUp\");\r\n");
      out.write("    }\r\n");
      out.write("    else if (mmrColClickedState == 2)\r\n");
      out.write("    {\r\n");
      out.write("    \t$(\"#mmrTransCol\" + mmrLastTransColClicked).addClass(\"headerSortDown\");\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    $(\"#mmrtranstable span\").click(function(e) \r\n");
      out.write("    {\r\n");
      out.write("    \te.preventDefault();\r\n");
      out.write("\r\n");
      out.write("   \t\tvar curColIndx = transTableColumns.indexOf($(this).text());\r\n");
      out.write("\r\n");
      out.write("    \tif (mmrLastTransColClicked != curColIndx)\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).removeClass(\"headerSortUp\");\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).removeClass(\"headerSortDown\");\r\n");
      out.write("    \t\tmmrLastTransColClicked = curColIndx;\r\n");
      out.write("    \t\tmmrColClickedState = 0;\r\n");
      out.write("    \t}\r\n");
      out.write("\r\n");
      out.write("    \tmmrColClickedState = ++mmrColClickedState % 3;\r\n");
      out.write("\r\n");
      out.write("    \tif (mmrColClickedState == 1)\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).addClass(\"headerSortUp\");\r\n");
      out.write("    \t}\r\n");
      out.write("    \telse if (mmrColClickedState == 2)\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).removeClass(\"headerSortUp\");\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).addClass(\"headerSortDown\");\r\n");
      out.write("    \t}\r\n");
      out.write("    \telse\r\n");
      out.write("    \t{\r\n");
      out.write("    \t\t$(\"#mmrTransCol\" + mmrLastTransColClicked).removeClass(\"headerSortDown\");\r\n");
      out.write("    \t}\r\n");
      out.write("\r\n");
      out.write("    \tsortMMRTransactions();\r\n");
      out.write("    });\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function reloadMMR(){\r\n");
      out.write("\tif ((mmrVehSummary == null) || (mmrVehSummary == '') || (mmrVehSummary == 'null'))\r\n");
      out.write("\t{\r\n");
      out.write("\t\t$(\"#mmrbookvalues\").html(\"<div class='mmrlogowithbook'></div><div>There is no MMR data.  Please press 'Update Bookout' and select an MMR trim.</div>\");\r\n");
      out.write("}\r\n");
      out.write("else\r\n");
      out.write("{\r\n");
      out.write("\tif (mmrVehSummary.earliestSaleDate != \"\")\r\n");
      out.write("\t{\r\n");
      out.write("    \t$(\"#mmrdatestr\").html(mmrDate(mmrVehSummary.earliestSaleDate) + \" to \" + mmrDate(mmrVehSummary.latestSaleDate));\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    var salesPriceMax = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.salesPrices.max > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tsalesPriceMax = \"$\" + addCommasToNumber(mmrVehSummary.salesPrices.max);\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    var salesPriceAvg = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.salesPrices.average > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tsalesPriceAvg = \"$\" + addCommasToNumber(mmrVehSummary.salesPrices.average);\r\n");
      out.write("    }\r\n");
      out.write("\r\n");
      out.write("    var salesPriceMin = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.salesPrices.min > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tsalesPriceMin = \"$\" + addCommasToNumber(mmrVehSummary.salesPrices.min);\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    var mileageMax = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.mileages.max > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tmileageMax = addCommasToNumber(mmrVehSummary.mileages.max);\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    var mileageAvg = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.mileages.average > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tmileageAvg = addCommasToNumber(mmrVehSummary.mileages.average);\r\n");
      out.write("    }\r\n");
      out.write("    \r\n");
      out.write("    var mileageMin = \"-\";\r\n");
      out.write("\r\n");
      out.write("    if (mmrVehSummary.mileages.min > 0)\r\n");
      out.write("    {\r\n");
      out.write("    \tmileageMin = addCommasToNumber(mmrVehSummary.mileages.min);\r\n");
      out.write("    }\r\n");
      out.write("    $(\"#mmrHighPriceId\").append(salesPriceMax);\r\n");
      out.write("    $(\"#mmrLowPriceId\").append(salesPriceMin);\r\n");
      out.write("    $(\"#mmrAveragePriceId\").append(salesPriceAvg);\r\n");
      out.write("    $(\"#mmrHighMileageId\").append(mileageMax);\r\n");
      out.write("    $(\"#mmrLowMileageId\").append(mileageMin);\r\n");
      out.write("    $(\"#mmrAverageMileageId\").append(mileageAvg);\r\n");
      out.write("// \t$(\"#abovemmr\").html(salesPriceMax + \"<br>\" + mileageMax);\r\n");
      out.write("// \t$(\"#belowmmr\").html(salesPriceMin + \"<br>\" + mileageMin);\r\n");
      out.write("// \t$(\"#averagemmr\").html(salesPriceAvg + \"<br>\" + mileageAvg);\r\n");
      out.write("}\r\n");
      out.write("writeMMRTableNew();\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("function writeMMRTableNew(){\r\n");
      out.write("\t\tif ((mmrVehTransactions != undefined) && (mmrVehTransactions != null) && (mmrVehTransactions != \"null\"))\r\n");
      out.write("\t\t{\r\n");
      out.write("\t\t\tmmrTransLength = mmrVehTransactions.transactions.length;\r\n");
      out.write("\t\r\n");
      out.write("\t\t\tfor (var i = 0; i < mmrVehTransactions.transactions.length; i++)\r\n");
      out.write("\t\t\t{\r\n");
      out.write("\t\t\t\tmmrTransData.push(mmrVehTransactions.transactions[i]);\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\twriteMMRTable()\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("function getCustomerOfferData(){\r\n");
      out.write("\tjQuery.getJSON( \"AppraisalData/CustomerOffer/showOfferTab\", function( data ) {\r\n");
      out.write("\t\t\tjQuery(\"#customerOfferId\").val(data.customerOffer);\r\n");
      out.write("\t\t\tjQuery(\"#firstNameId\").val(data.firstName);\r\n");
      out.write("\t\t\tjQuery(\"#lastNameId\").val(data.lastName);\r\n");
      out.write("\t\t\tjQuery(\"#phoneId\").val(data.phoneNumber);\r\n");
      out.write("\t\t\tjQuery(\"#emailId\").val(data.email);\r\n");
      out.write("\t\t\tinitCustOffer();\r\n");
      out.write("\t});\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write("function getNAAAData(){\r\n");
      out.write("\ttry{\r\n");
      out.write("\t\tjQuery('#naaaFirstRow').empty();\r\n");
      out.write("\t\tjQuery('#naaaSecondRow').empty();\r\n");
      out.write("\t\tvar selectedArea = $(\"#areaIdSelect option:selected\").val();\r\n");
      out.write("\t\tvar selectedTimePeriod = $(\"#timePeriodIdSelect option:selected\").val();\r\n");
      out.write("\t\tvar selectedVic = $(\"#vicIdSelect\").val();\r\n");
      out.write("\t\tvar urlparams = \"\";\r\n");
      out.write("\t\tif(selectedArea !=undefined && selectedTimePeriod!=undefined && selectedVic!=undefined){\r\n");
      out.write("\t\t\turlparams = \"?areaId=\"+selectedArea+\"&timePeriodId=\"+selectedTimePeriod+\"&vic=\"+selectedVic;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tjQuery.getJSON( \"AppraisalData/Books/NAAA\"+urlparams, function( naaaData ) {\r\n");
      out.write("\t\tnaaa=naaaData;\t\r\n");
      out.write("\t\tvar data;\r\n");
      out.write("\t\tvar isCriteriaPresent;\r\n");
      out.write("\t\tif(naaaData!=null){\r\n");
      out.write("\t\t\tdata = naaaData.auctionData;\r\n");
      out.write("\t\t\tisCriteriaPresent = naaaData.isCriteriaPresent;\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(naaaData!=null && data!=null){\r\n");
      out.write("\t\tif(naaaData.vicBodyStyles.length >1){\r\n");
      out.write("\t\t\tjQuery('#naaaDropdownId').html('<label for=\"areaId\">Region:</label>'+\r\n");
      out.write("\t\t             '<select name=\"auctionDataForm\" id=\"areaIdSelect\" tabindex=\"1\" style=\"width:80px;height:20px;\" onchange=\"changeNaaaDropDown();\">'+\r\n");
      out.write("\t\t             '<options id=\"areaIdOptions\"/>'+\r\n");
      out.write("\t\t             '</select>'+\r\n");
      out.write("\t\t             '<label style=\"padding-left:3px;\" for=\"timePeriodId\">Time Period:</label>'+\r\n");
      out.write("\t\t             '<select name=\"auctionDataForm\" id=\"timePeriodIdSelect\" tabindex=\"2\" style=\"width:80px;height:20px;\" onchange=\"changeNaaaDropDown();\">'+\r\n");
      out.write("\t\t             '<options id=\"periodIdOptions\"/>'+\r\n");
      out.write("\t\t             '</select><br/>'+\r\n");
      out.write("\t\t             '<label style=\"\" for=\"series\">Series:</label>'+\r\n");
      out.write("\t\t             '<select name=\"auctionDataForm\" id=\"vicIdSelect\" tabindex=\"2\" style=\"width:120px;height:20px;\" onchange=\"changeNaaaDropDown();\">'+\r\n");
      out.write("\t\t             '<option value=\"0\">Select a Series</option>'+\r\n");
      out.write("\t\t             '</select>');\r\n");
      out.write("\t\t}else{\t\r\n");
      out.write("\t\t\tjQuery('#naaaDropdownId').html('<label for=\"areaId\">Region:</label>'+\r\n");
      out.write("             '<select name=\"auctionDataForm\" id=\"areaIdSelect\" tabindex=\"1\" style=\"width:80px;height:20px;\" onchange=\"changeNaaaDropDown();\">'+\r\n");
      out.write("             '<options id=\"areaIdOptions\"/>'+\r\n");
      out.write("             '</select>'+\r\n");
      out.write("             '<label style=\"padding-left:3px;\" for=\"timePeriodId\">Time Period:</label>'+\r\n");
      out.write("             '<select name=\"auctionDataForm\" id=\"timePeriodIdSelect\" tabindex=\"2\" style=\"width:80px;height:20px;\" onchange=\"changeNaaaDropDown();\">'+\r\n");
      out.write("             '<options id=\"periodIdOptions\"/>'+\r\n");
      out.write("             '</select><br>'+\r\n");
      out.write("             '<label style=\"\" for=\"series\">Series:'+naaaData.vicBodyStyles[0].bodyStyleDescription+' </label>'+\r\n");
      out.write("             '<input type=\"hidden\" id=\"vicIdSelect\" value=\"'+naaaData.selectedVic+'\"/>'\r\n");
      out.write("             \r\n");
      out.write("\t\t\t);\r\n");
      out.write("\t\t}\r\n");
      out.write("\r\n");
      out.write("\t\tvar areaIdOptions = $(\"#areaIdSelect\");\r\n");
      out.write("\t\t$.each(naaaData.areas, function() {\r\n");
      out.write("\t\t\tif(this.areaId == naaaData.selectedAreaId){\r\n");
      out.write("\t\t\t\tareaIdOptions.append($(\"<option />\").val(this.areaId).text(this.areaName));\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tareaIdOptions.append($(\"<option />\").val(this.areaId).text(this.areaName));\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\tvar periodIdOptions = $(\"#timePeriodIdSelect\");\r\n");
      out.write("\t\t$.each(naaaData.timePeriods, function() {\r\n");
      out.write("\t\t\tif(this.periodId == naaaData.selectedTimePeriodId){\r\n");
      out.write("\t\t\t\tperiodIdOptions.append($(\"<option />\").val(this.periodId).text(this.description));\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tperiodIdOptions.append($(\"<option />\").val(this.periodId).text(this.description));\r\n");
      out.write("\t\t\t}\r\n");
      out.write("\t\t});\r\n");
      out.write("\r\n");
      out.write("\t\tif(naaaData.vicBodyStyles.length>1){\r\n");
      out.write("\t\t\tvar vicIdOptions = $(\"#vicIdSelect\");\r\n");
      out.write("\t\t\t$.each(naaaData.vicBodyStyles, function() {\r\n");
      out.write("\t\t\t\tif(this.vic == naaaData.selectedVic){\r\n");
      out.write("\t\t\t\t\tvicIdOptions.append($(\"<option/>\").val(this.vic).text(this.bodyStyleDescription));\r\n");
      out.write("\t\t\t\t}else{\r\n");
      out.write("\t\t\t\t\tvicIdOptions.append($(\"<option />\").val(this.vic).text(this.bodyStyleDescription));\r\n");
      out.write("\t\t\t\t}\r\n");
      out.write("\t\t\t});\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t$(\"#vicIdSelect\").val(naaaData.selectedVic);\r\n");
      out.write("\t\t$(\"#timePeriodIdSelect\").val(naaaData.selectedTimePeriodId);\r\n");
      out.write("\t\t$(\"#areaIdSelect\").val(naaaData.selectedAreaId);\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tif(isCriteriaPresent==true){\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td class=\"bluetd\">price</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td class=\"bluetd\">odometer</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >'+formatCurrencyWithDollar(data.highSalePrice)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >'+formatCurrencyWithDollar(data.averageSalePrice)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >'+formatCurrencyWithDollar(data.lowSalePrice)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tif(data.similarVehicleAverageSalePrice==null){\r\n");
      out.write("\t\t\t\tjQuery('#naaaFirstRow').append('<td >n/a&nbsp;</td>');\r\n");
      out.write("\t\t\t}else{\r\n");
      out.write("\t\t\t\tjQuery('#naaaFirstRow').append('<td >'+formatCurrencyWithDollar(data.similarVehicleAverageSalePrice)+'&nbsp;</td>');\r\n");
      out.write("\t\t    }\r\n");
      out.write("\t\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >'+formatMileage(data.highSalePriceMileage)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >'+formatMileage(data.averageSalePriceMileage)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >'+formatMileage(data.lowSalePriceMileage)+'&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >'+formatMileage(data.similarVehicleLowMileage)+' - '+formatMileage(data.similarVehicleHighMileage)+'&nbsp;</td>');\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td class=\"bluetd\">price</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td class=\"bluetd\">odometer</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t}else{\r\n");
      out.write("\t\t\tvar isCriteriaPresent = naaaData.isCriteriaPresent;\t\r\n");
      out.write("\t\t\t//jQuery('#averageHeaderValueId').html(\"\");\t\r\n");
      out.write("\t\t\t//jQuery('#similarVehicleTransactionCount').html('Vehicle with Similar Mileage');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td class=\"bluetd\">price</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td class=\"bluetd\">odometer</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaFirstRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\tjQuery('#naaaSecondRow').append('<td >--&nbsp;</td>');\r\n");
      out.write("\t\t\t\t\r\n");
      out.write("\t\t}\r\n");
      out.write("\t\t\r\n");
      out.write("\t\t\r\n");
      out.write("\t});\r\n");
      out.write("\t}catch(err){\r\n");
      out.write("\t\tconsole.log(err);\r\n");
      out.write("\t}\r\n");
      out.write("}\r\n");
      out.write("\r\n");
      out.write("\tfunction changeNaaaDropDown(){\r\n");
      out.write("\t\tgetNAAAData();\r\n");
      out.write("\t}\r\n");
      out.write("\r\n");
      out.write("\t$(\".kbbconsumerlogo\").click(function(e){\r\n");
      out.write("    \te.preventDefault();\r\n");
      out.write("        window.open('/IMT/KbbConsumerValueLandingAction.go?vin=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("&mileage=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${mileage}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("', 'kbbconsumertool', 'width=950,height=600,location=no,status=yes,menubar=yes,toolbar=no,resizable=yes,scrollbars=yes');  \t\t\t\r\n");
      out.write("    });\r\n");
      out.write("    \r\n");
      out.write("    $(\".newnadalogo\").click(function(e){\r\n");
      out.write("\t    e.preventDefault();\r\n");
      out.write("\t    window.open('/IMT/NADAValuesLandingAction.go?vin=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("&mileage=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${mileage}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("', 'nadavalues', 'width=600,height=300,location=no,status=yes,menubar=yes,toolbar=no,resizable=yes,scrollbars=yes');  \t\t\t\r\n");
      out.write(" \t});\r\n");
      out.write("\r\n");
      out.write("    $(\".kbblogo\").click(function(e) {\r\n");
      out.write("    \te.preventDefault();\r\n");
      out.write("        window.open(\"http://www.kbb.com/whats-my-car-worth\", 'kbb', 'location=no,status=yes,menubar=yes,toolbar=no,resizable=yes,scrollbars=yes');   \t\r\n");
      out.write("    });\r\n");
      out.write("\r\n");
      out.write("    $(\".edmundslogo\").click(function(e) {\r\n");
      out.write("    \te.preventDefault();\r\n");
      out.write("\t\twindow.open('/IMT/EdmundsTmvRedirectionAction.go?appraisalId=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${appraisalId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("', 'EdmundsTmv', 'status=1,scrollbars=1,toolbar=0,width=805,height=600');\r\n");
      out.write("    });\r\n");
      out.write("    $(\"#backbutton\").unbind(\"click\").click(function(e) {\r\n");
      out.write("\t\te.preventDefault();\r\n");
      out.write("\t\tcheckSaveAppraisal(\"/IMT/GuideBookDetailSubmitAction.go?vin=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\");\r\n");
      out.write("  \t});\r\n");
      out.write("    $(\".updatebookout\").click(function(e) \r\n");
      out.write("  \t    {\r\n");
      out.write("  \t    \te.preventDefault();\r\n");
      out.write("  \t    \twindow.location.href = '/IMT/GuideBookDetailSubmitAction.go?vin=");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("';\r\n");
      out.write("  \t    });\r\n");
      out.write("    \r\n");
      out.write("  \r\n");
      out.write("\r\n");
      out.write("    \r\n");
      out.write("\r\n");
      out.write("</script>\r\n");
      out.write("\r\n");
      out.write(" <div style=\"width:450px;top:15%;\" class=\"jqmWindow\" id =\"printBookSheet\">\r\n");
      out.write("           \t  \t\r\n");
      out.write(" </div>\r\n");
      out.write("\r\n");
      out.write("<div class=\"jqmWindow\" id=\"bookspage-appraiser-pop\" style=\"width:900px;height:500px;overflow-y:scroll;\">\r\n");
      out.write("       <div class=\"fl\"><h1 class=\"marg-rt-15\">Add/Remove Sales Person</h1></div>\r\n");
      out.write("       <div class=\"fr\"><a href=\"#\" class=\"jqmClose\"><i class=\"fa fa-times\"></i></a></div>\r\n");
      out.write("       <br clear=\"all\">\r\n");
      out.write("       <div class=\"whitebg\">\r\n");
      out.write("         <form id=\"addOrSavePersonFormBooksPage\" >\r\n");
      out.write("         \t<table class=\"store-perfm-table\">\r\n");
      out.write("         \t<thead>\r\n");
      out.write("         \t\t<tr>\r\n");
      out.write("         \t\t\t\r\n");
      out.write("         \t\t\t\t<td><input type=\"text\" name=\"FirstName\" id=\"booksPageFirstName\" value=\"\"></td>\r\n");
      out.write("         \t\t\t\t<td><input type=\"text\" name=\"LastName\" id=\"booksPageLastName\" value=\"\"></td>\r\n");
      out.write("         \t\t\t\t<td><input type=\"text\" name=\"email\" id=\"booksPageemail\" value=\"\"></td>\r\n");
      out.write("         \t\t\t\t<td><input type=\"text\" name=\"phone\" id=\"booksPagephone\" value=\"\"></td>\r\n");
      out.write("         \t\t\t\t<td><button class=\"appraisal-btn\" type=\"button\" name=\"Add Or Save\" id=\"booksPagesavePersonButton\" onClick=\"booksPagesaveOrUpdatePerson()\" value=\"Save\">Save</button></td>\r\n");
      out.write("         \t\t\t\t<input type=\"text\" style=\"display:none\" name=\"personId\" id=\"booksPagePersonIdHidden\" value=\"0\">\r\n");
      out.write("         \t\t\t\t<input type=\"hidden\" name=\"dealerId\" id=\"booksPagedealerId\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${dealerId}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\">\r\n");
      out.write("         \t\t\t\t<input type=\"hidden\" name=\"personPosition\" id=\"booksPagepersonPosition\" value='1' >\r\n");
      out.write("         \t\t\t\t<input type=\"hidden\" name=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_csrf.parameterName}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\" value=\"");
      out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${_csrf.token}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
      out.write("\" id= \"csrf\"/>\r\n");
      out.write("         \t\t\t\r\n");
      out.write("         \t\t\t\r\n");
      out.write("         \t\t<tr>\r\n");
      out.write("         \t\t\t<th>First Name</th>\r\n");
      out.write("         \t\t\t<th>Last Name</th>\r\n");
      out.write("         \t\t\t<th>Email</th>\r\n");
      out.write("         \t\t\t<th>Phone</th>\r\n");
      out.write("         \t\t\t<th colspan=\"2\">Action</th>\r\n");
      out.write("         \t\t\t \t\r\n");
      out.write("         \t\t</tr>\r\n");
      out.write("         \t\t</thead>\r\n");
      out.write("         \t\t<tbody id=\"bookspagepersonsTableBody\">\r\n");
      out.write("         \t\t</tbody>\r\n");
      out.write("         \t\t\r\n");
      out.write("         \t\t         \t\r\n");
      out.write("         \t</table>\t\r\n");
      out.write("         </form>\t\r\n");
      out.write("         \r\n");
      out.write("\t\t</div>\r\n");
      out.write("\t\t<br>\r\n");
      out.write("        <br clear=\"all\">\r\n");
      out.write("\t\t</div>\r\n");
      out.write("\r\n");
      out.write("\r\n");
      out.write(" <div id=\"books-offer\">\r\n");
      out.write("        <div class=\"fl retail-left-part\">\r\n");
      out.write("          <div class=\"appraisalbox\">\r\n");
      out.write("            <h2 align=\"center\">Appraisal Calculator</h2>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label>Target Selling Price</label>\r\n");
      out.write("              $<span class=\"appraisal-txtbox txt-right\">0</span></div>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label>Estimated Recon.</label>\r\n");
      out.write("              $<span>\r\n");
      out.write("              <input type=\"text\" class=\"appraisal-txtbox\">\r\n");
      out.write("              </span></div>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label>Target gross Profit</label>\r\n");
      out.write("              $<span>\r\n");
      out.write("              <input type=\"text\" class=\"appraisal-txtbox\">\r\n");
      out.write("              </span></div>\r\n");
      out.write("            <div class=\"seperator\"></div>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label>Appraisal Value</label>\r\n");
      out.write("              $<span>\r\n");
      out.write("              <input type=\"text\" class=\"appraisal-txtbox\">\r\n");
      out.write("              </span></div>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label class=\"normal-lineheight\">Current Appraisal<br>\r\n");
      out.write("                <a class=\"underline\" href=\"#\">View History</a> </label>\r\n");
      out.write("              $<span class=\"appraisal-txtbox txt-right\">1,900</span> </div>\r\n");
      out.write("            <br>\r\n");
      out.write("            <div>\r\n");
      out.write("              <label class=\"normal-lineheight\">Appraiser Name<br>\r\n");
      out.write("                <a class=\"underline\" href=\"#\">Add/Remove</a></label>\r\n");
      out.write("              <span class=\"appraisal-txtbox txt-right\">\r\n");
      out.write("              <select>\r\n");
      out.write("                <option>Hudson,Brian</option>\r\n");
      out.write("                <option>Hudson,Brian</option>\r\n");
      out.write("              </select>\r\n");
      out.write("              </span> </div>\r\n");
      out.write("            <div> <br>\r\n");
      out.write("              <label class=\"block\">Reconditioning Notes</label>\r\n");
      out.write("              <br>\r\n");
      out.write("              <textarea class=\"recnotes\" rows=\"4\"></textarea>\r\n");
      out.write("            </div>\r\n");
      out.write("            <div class=\"align-right\">\r\n");
      out.write("              <button class=\"appraisal-btn\">Save</button>\r\n");
      out.write("              <button>Cancel</button>\r\n");
      out.write("            </div>\r\n");
      out.write("          </div>\r\n");
      out.write("        </div>\r\n");
      out.write("        <div class=\"retail-right-part fl books-right-part\">\r\n");
      out.write("          <div class=\"customer-ofr-centr\">\r\n");
      out.write("            <h1>Customer Offer Center</h1>\r\n");
      out.write("            <br>\r\n");
      out.write("            <div class=\"pad10\"> <strong>Customer Offer</strong><br>\r\n");
      out.write("              <span>$</span> <span>\r\n");
      out.write("              <input type=\"text\" id=\"customerOfferId\" placeholder=\"000,000\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = '000,000'\"/>\r\n");
      out.write("              </span> <span>\r\n");
      out.write("              <input type=\"text\" id=\"firstNameId\" placeholder=\"First Name\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'First Name'\"/>\r\n");
      out.write("              </span><span>\r\n");
      out.write("              <input type=\"text\" id=\"lastNameId\" placeholder=\"Last Name\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'Last Name'\"/>\r\n");
      out.write("              </span><span>\r\n");
      out.write("              <input type=\"text\" id=\"phoneId\" placeholder=\"Phone\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'Phone'\"/>\r\n");
      out.write("              </span><span>\r\n");
      out.write("              <input type=\"text\" id=\"emailId\" placeholder=\"Email\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'Email'\"/>\r\n");
      out.write("              </span> <span>\r\n");
      out.write("              <button id=\"createCustOfferbtn\" class=\"update-info-btn jqModal\">Create Customer Offer</button>\r\n");
      out.write("              </span> <br clear=\"all\">\r\n");
      out.write("              <br>\r\n");
      out.write("           \t  <div style=\"width:450px;top:15%;\" class=\"jqmWindow\" id =\"customerOverlay\">\r\n");
      out.write("           \t  \t\r\n");
      out.write("           \t  </div>\r\n");
      out.write("              <strong>Potential Deal</strong><br>\r\n");
      out.write("              <span>\r\n");
      out.write("              <select id=\"dealTypeId\" >\r\n");
      out.write("         \t\t\t<option value=\"0\" > </option>\r\n");
      out.write("         \t\t\t<option value=\"1\" >New</option>\r\n");
      out.write("         \t\t\t<option value=\"2\" >Used</option>\r\n");
      out.write("         \t\t\t\r\n");
      out.write("         \t\t\t\r\n");
      out.write("              \t\r\n");
      out.write("              </select>\r\n");
      out.write("              </span> <span>\r\n");
      out.write("              <input type=\"text\" id=\"retailVehicleStockNumberId\" class=\"retail-vehicle-txt\" placeholder=\"Retail Vehicle Stock #\" onfocus=\"this.placeholder = ''\" onblur=\"this.placeholder = 'Retail Vehicle Stock #'\"/>\r\n");
      out.write("              </span><span>\r\n");
      out.write("               <select name=\"salespersonDNId\" id=\"salespersonDNId\">\r\n");
      out.write("              \t\t\r\n");
      out.write("              </select>\r\n");
      out.write("              </span> <span>&nbsp;&nbsp;<a href=\"javascript:showBooksPageAppraiserModal();\" class=\"underline\">Add/Remove</a></span> <span class=\"fr\"><a href=\"#\" id=\"printMarketButton\" class=\"underline\">Print Book Sheets</a></span> <br clear=\"all\">\r\n");
      out.write("            </div>\r\n");
      out.write("            \t\r\n");
      out.write("          </div>\r\n");
      out.write("          <br clear=\"all\">        \r\n");
      out.write("          <div class=\"book-block manheim fl\" id=\"mmrbookvalues\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/manheim.png\" />\r\n");
      out.write("            <table>\r\n");
      out.write("            \t<tr>\r\n");
      out.write("                \t<td>&nbsp;</td>\r\n");
      out.write("                    <td class=\"greentd\">high</td>\r\n");
      out.write("                    <td class=\"greentd\">low</td>\r\n");
      out.write("                    <td class=\"greentd\">average</td>\r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr>\r\n");
      out.write("                \t<td class=\"greentd\">price</td>\r\n");
      out.write("                    <td id=\"mmrHighPriceId\"></td>\r\n");
      out.write("                   <td id=\"mmrLowPriceId\"></td>\r\n");
      out.write("                   <td id=\"mmrAveragePriceId\"></td>               \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr>\r\n");
      out.write("                \t<td class=\"greentd\">odometer</td>\r\n");
      out.write("                    <td id=\"mmrHighMileageId\"></td>\r\n");
      out.write("                   <td id=\"mmrLowMileageId\"></td>\r\n");
      out.write("                   <td id=\"mmrAverageMileageId\"></td>               \r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          <div class=\"book-block naaa fr\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/naa.png\" />\r\n");
      out.write("          \t    <span id=\"naaaDropdownId\" style=\"float: right;padding-right:1px;padding-top:10px;font-size:11px;\">\r\n");
      out.write("          \t\t\t\r\n");
      out.write("\t\t\t\t</span>\r\n");
      out.write("            <table>\r\n");
      out.write("            \t<tr>\r\n");
      out.write("                \t<td>&nbsp;</td>\r\n");
      out.write("                    <td class=\"bluetd\">high</td>\r\n");
      out.write("                    <td class=\"bluetd\">low</td>\r\n");
      out.write("                    <td class=\"bluetd\">average</td>\r\n");
      out.write("                     <td class=\"bluetd\">Similar</td>\r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"naaaFirstRow\">\r\n");
      out.write("                   <td class=\"bluetd\">price</td>           \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"naaaSecondRow\">\r\n");
      out.write("                \t<td class=\"bluetd\">odometer</td>\r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          <br clear=\"all\">\r\n");
      out.write("          <div class=\"mmrtransactions\">\r\n");
      out.write("          \tMMR Transactions &nbsp; &nbsp;<a id=\"mmrtransactionslink\" class=\"underline toggle-mmrtransactions-wrap\">View</a>\t&nbsp; &nbsp;<a id=\"linktommr\" class=\"underline\">Connect to MMR</a>\r\n");
      out.write("\t\t\t<div id=\"mmrtranstable\" class=\"mmrtransactions-wrap\" style=\"display:none;\">\r\n");
      out.write("<br>\r\n");
      out.write("<br>\r\n");
      out.write("<!-- \t\t\t<table id=\"mmrtranstable\"></table> -->\r\n");
      out.write("<!-- \t\t\t<div class=\"mmrtransactions-head\"> -->\r\n");
      out.write("<!--             <span>Date</span> -->\r\n");
      out.write("<!--             <span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span> -->\r\n");
      out.write("            \r\n");
      out.write("<!--             </div> -->\r\n");
      out.write("            \r\n");
      out.write("            \r\n");
      out.write("<!--             <div class=\"mmrtransactions-row\"> -->\r\n");
      out.write("<!--             \t <span>Date</span> -->\r\n");
      out.write("<!--             <span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span> -->\r\n");
      out.write("<!--              <span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span><span>Date</span> -->\r\n");
      out.write("            \r\n");
      out.write("            \r\n");
      out.write("            \r\n");
      out.write("<!--             </div> -->\r\n");
      out.write("   \t\t\t </div>\t\r\n");
      out.write("    \r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("            <div id=\"nadaDivId\" class=\"book-block nada fl\" style=\"display:none;\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/nada.png\" />\r\n");
      out.write("          \t<span style=\"float: right;padding:10px;font-size:10px;\"><select style=\"width:92px;height:20px;\" id=\"nadamarket\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Wholesale\" selected=\"selected\">Trade-In</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Retail\">Retail</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t\t\t\t\t<a style=\"width:90px;height:24px;font-size: 10px;\"class=\"underline updatebookout\">Update Bookout</a>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\r\n");
      out.write("          \t<br>\r\n");
      out.write("\t\t\t<span  class=\"adjustment-text\">options adjustment <span id=\"nada_option_adj\"></span>   mileage adjustment <span id=\"nada_mileage_adj\"></span></span>\r\n");
      out.write("            <table>\r\n");
      out.write("          \r\n");
      out.write("            \t\r\n");
      out.write("                <tr id=\"nadaHeaderRow\">             \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"nadarow\">\r\n");
      out.write("                \t              \r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("          <div id=\"blackbookDivId\" class=\"book-block blackbook fr\" style=\"display:none;\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/black.png\" />\r\n");
      out.write("\t\t\t\t\t\t\t\t<span style=\"float: right;padding:10px;font-size:10px;\"><select style=\"width:92px;height:20px;\" id=\"blackbookmarket\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Wholesale\" selected=\"selected\">Wholesale</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Finance Advance\">Finance Advance</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t\t\t\t\t<a style=\"width:90px;height:24px;font-size: 10px;\"class=\"underline updatebookout\">Update Bookout</a>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</span>\r\n");
      out.write("\t\t\t\t\t\t\t<br>\r\n");
      out.write("\t\t\t<span class=\"adjustment-text\">options adjustment <span id=\"blackbook_option_adj\"></span>    mileage adjustment <span id=\"blackbook_mileage_adj\"></span></span>\r\n");
      out.write("            <table>\r\n");
      out.write("          \r\n");
      out.write("            \t\r\n");
      out.write("                <tr id=\"bbHeaderRow\">               \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"bbrow\">               \r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("            \r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          \r\n");
      out.write("\t\t  \r\n");
      out.write("\t\t   <div id=\"kbbDivId\" class=\"book-block kbb fr\" style=\"display:none;\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/kelley.png\" height=\"28\"/>\r\n");
      out.write("          \t<span style=\"float: right;padding:10px;font-size:10px;\"><select style=\"width:92px;height:20px;\" id=\"kbbmarket\" onChange=\"kbbMarketChange(this)\">\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Wholesale\" selected=\"selected\">Lending Value</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t\t<option value=\"Trade-In\">Trade-In</option>\r\n");
      out.write("\t\t\t\t\t\t\t\t</select>\r\n");
      out.write("\t\t\t\t\t\t\t\t<a style=\"width:90px;height:24px;font-size: 10px;\"class=\"underline updatebookout\">Update Bookout</a>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</span><br>\r\n");
      out.write("\t\t\t<span class=\"adjustment-text\">options adjustment <span id=\"3_option_adj\"> </span>    mileage adjustment <span id=\"3_mileage_adj\"></span></span>\r\n");
      out.write("            <table>\r\n");
      out.write("          \r\n");
      out.write("            \t\r\n");
      out.write("                <tr id=\"3_values_row\">\r\n");
      out.write("                \t               \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"3_values_row_val\">\r\n");
      out.write("                \t           \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"3_values_row_2\" style=\"display: none;\">\r\n");
      out.write("                \t           \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"3_values_row_2_val\" style=\"display: none;\">\r\n");
      out.write("                \t           \r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("            \r\n");
      out.write("          </div>\r\n");
      out.write("\t\t  \r\n");
      out.write("\t\t  <div id=\"galvesDivId\" class=\"book-block galves fl\" style=\"display:none;\">\r\n");
      out.write("          \t<img src=\"/fl-ims/resources/images/logo-galves.png\" height=\"29\"/>\r\n");
      out.write("          \t<span style=\"float: right;padding:10px;font-size:10px;\">\r\n");
      out.write("\t\t\t\t\t\t\t\t<a style=\"width:90px;height:24px;font-size: 10px;\"class=\"underline updatebookout\">Update Bookout</a>\r\n");
      out.write("\t\t\t\t\t\t\t\t\t</span><br>\r\n");
      out.write("\t\t\t<span class=\"adjustment-text\">options adjustment <span id=\"galves_option_adj\"> </span>    mileage adjustment <span id=\"galves_mileage_adj\"></span></span>\r\n");
      out.write("            <table>\r\n");
      out.write("          \r\n");
      out.write("            \t\r\n");
      out.write("                <tr id=\"galvesrowheaderid\">               \r\n");
      out.write("                </tr>\r\n");
      out.write("                <tr id=\"galvesrow\">               \r\n");
      out.write("                </tr>\r\n");
      out.write("                \r\n");
      out.write("                \r\n");
      out.write("            \r\n");
      out.write("            </table>\r\n");
      out.write("            \r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          <div class=\"logoboxes\">\r\n");
      out.write("          <br clear=\"all\">\r\n");
      out.write("\t\t  <br>\r\n");
      out.write("\t\t  ");
      if (_jspx_meth_c_005fif_005f0(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("\t\t  ");
      if (_jspx_meth_c_005fif_005f1(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("\t\t  ");
      if (_jspx_meth_c_005fif_005f2(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("    \t  ");
      if (_jspx_meth_c_005fif_005f3(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("         \r\n");
      out.write("          </div>\r\n");
      out.write("          \r\n");
      out.write("          ");
      if (_jspx_meth_c_005fif_005f4(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("\t\t");
      if (_jspx_meth_c_005fif_005f5(_jspx_page_context))
        return;
      out.write("\r\n");
      out.write("\t\t  \r\n");
      out.write("\t\t  <br clear=\"all\"/>\r\n");
      out.write("\t\t  <br clear=\"all\"/>\r\n");
      out.write("          <div class=\"footer-links\"></div>\r\n");
      out.write("        </div>\r\n");
      out.write("        \r\n");
      out.write("        <br clear=\"all\"/>\r\n");
      out.write("      </div>\r\n");
      out.write("      <script type=\"text/javscript\">\r\n");
      out.write("\t\t\r\n");
      out.write("\t\tjQuery(\".rowinfo\").css('height','200px');\r\n");
      out.write("\t\t</script>\r\n");
      out.write("      <!--books offer ends-->");
    } catch (java.lang.Throwable t) {
      if (!(t instanceof javax.servlet.jsp.SkipPageException)){
        out = _jspx_out;
        if (out != null && out.getBufferSize() != 0)
          try {
            if (response.isCommitted()) {
              out.flush();
            } else {
              out.clearBuffer();
            }
          } catch (java.io.IOException e) {}
        if (_jspx_page_context != null) _jspx_page_context.handlePageException(t);
        else throw new ServletException(t);
      }
    } finally {
      _jspxFactory.releasePageContext(_jspx_page_context);
    }
  }

  private boolean _jspx_meth_c_005fif_005f0(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f0 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f0.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f0.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1461,4) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f0.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${includeKBBTradeInValues}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f0 = _jspx_th_c_005fif_005f0.doStartTag();
    if (_jspx_eval_c_005fif_005f0 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("\t\t\t<img class=\"kbbconsumerlogo\" src=\"/fl-ims/resources/images/kbb.png\">\r\n");
        out.write("\t\t  ");
        int evalDoAfterBody = _jspx_th_c_005fif_005f0.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f0.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f0);
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f1(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f1 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f1.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f1.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1464,4) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f1.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${!includeKBBTradeInValues}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f1 = _jspx_th_c_005fif_005f1.doStartTag();
    if (_jspx_eval_c_005fif_005f1 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("\t\t\t<img class=\"kbblogo\" src=\"/fl-ims/resources/images/kbb.png\">\r\n");
        out.write("\t\t  ");
        int evalDoAfterBody = _jspx_th_c_005fif_005f1.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f1.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f1);
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f2(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f2 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f2.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f2.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1467,4) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f2.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${includeNADAValues}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f2 = _jspx_th_c_005fif_005f2.doStartTag();
    if (_jspx_eval_c_005fif_005f2 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("    \t\t<img class=\"newnadalogo\" src=\"/fl-ims/resources/images/nadaa.png\">\r\n");
        out.write("    \t  ");
        int evalDoAfterBody = _jspx_th_c_005fif_005f2.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f2.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f2);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f2);
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f3(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f3 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f3.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f3.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1470,7) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f3.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${edmundsTmvUpgrade}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f3 = _jspx_th_c_005fif_005f3.doStartTag();
    if (_jspx_eval_c_005fif_005f3 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("    \t\t<img class=\"edmundslogo\" src=\"/fl-ims/resources/images/tvm.png\">\r\n");
        out.write("    \t  ");
        int evalDoAfterBody = _jspx_th_c_005fif_005f3.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f3.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f3);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f3);
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f4(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f4 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f4.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f4.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1476,10) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f4.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${saferCar}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f4 = _jspx_th_c_005fif_005f4.doStartTag();
    if (_jspx_eval_c_005fif_005f4 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("          \t<span>\r\n");
        out.write("\t\t\t\t<a style=\"float:right;padding-left:20px;\" class=\"underline\" href=\"https://vinrcl.safercar.gov/vin/");
        out.write((java.lang.String) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${vin}", java.lang.String.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false));
        out.write("\" target=\"_blank\">Recall Lookup By Vin</a>\r\n");
        out.write("          \t</span>\r\n");
        out.write("\t\t\t");
        int evalDoAfterBody = _jspx_th_c_005fif_005f4.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f4.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f4);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f4);
    return false;
  }

  private boolean _jspx_meth_c_005fif_005f5(javax.servlet.jsp.PageContext _jspx_page_context)
          throws java.lang.Throwable {
    javax.servlet.jsp.PageContext pageContext = _jspx_page_context;
    javax.servlet.jsp.JspWriter out = _jspx_page_context.getOut();
    //  c:if
    org.apache.taglibs.standard.tag.rt.core.IfTag _jspx_th_c_005fif_005f5 = (org.apache.taglibs.standard.tag.rt.core.IfTag) _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.get(org.apache.taglibs.standard.tag.rt.core.IfTag.class);
    _jspx_th_c_005fif_005f5.setPageContext(_jspx_page_context);
    _jspx_th_c_005fif_005f5.setParent(null);
    // /WEB-INF/views/secured/books/booksPage.jsp(1481,2) name = test type = boolean reqTime = true required = true fragment = false deferredValue = false expectedTypeName = null deferredMethod = false methodSignature = null
    _jspx_th_c_005fif_005f5.setTest(((java.lang.Boolean) org.apache.jasper.runtime.PageContextImpl.proprietaryEvaluate("${caseyAndCasey}", java.lang.Boolean.class, (javax.servlet.jsp.PageContext)_jspx_page_context, null, false)).booleanValue());
    int _jspx_eval_c_005fif_005f5 = _jspx_th_c_005fif_005f5.doStartTag();
    if (_jspx_eval_c_005fif_005f5 != javax.servlet.jsp.tagext.Tag.SKIP_BODY) {
      do {
        out.write("\r\n");
        out.write("\t\t\t<span>\r\n");
        out.write("\t\t\t\t<a style=\"float:right;\" class=\"underline\" href=\"https://Ert.autotitle.com/intro.phtml\" target=\"_blank\">Casey & Casey / Auto Title</a>\t\r\n");
        out.write("\t\t\t</span>\r\n");
        out.write("\t\t  ");
        int evalDoAfterBody = _jspx_th_c_005fif_005f5.doAfterBody();
        if (evalDoAfterBody != javax.servlet.jsp.tagext.BodyTag.EVAL_BODY_AGAIN)
          break;
      } while (true);
    }
    if (_jspx_th_c_005fif_005f5.doEndTag() == javax.servlet.jsp.tagext.Tag.SKIP_PAGE) {
      _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f5);
      return true;
    }
    _005fjspx_005ftagPool_005fc_005fif_0026_005ftest.reuse(_jspx_th_c_005fif_005f5);
    return false;
  }
}
